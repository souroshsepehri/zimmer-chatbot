<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª ÙˆÛŒØ¬Øª Ú†Øª Ø¨Ø§Øª - Test Site</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            direction: rtl;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-right: 4px solid #2196F3;
        }
        .info h3 {
            margin-top: 0;
            color: #1976D2;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #555;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ØªØ³Øª ÙˆÛŒØ¬Øª Ú†Øª Ø¨Ø§Øª</h1>
        
        <div class="info">
            <h3>ğŸ“‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØ³Øª</h3>
            <p><strong>Ø¯Ø§Ù…Ù†Ù‡ ÙØ¹Ù„ÛŒ:</strong> <code id="currentHost">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</code></p>
            <p><strong>API Base URL:</strong> <code id="apiBaseUrl">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</code></p>
            <p><strong>Site Host:</strong> <code id="siteHost">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</code></p>
        </div>
        
        <div class="test-section">
            <h3>âœ… ÙˆØ¶Ø¹ÛŒØª ÙˆÛŒØ¬Øª</h3>
            <div id="widgetStatus" class="status info">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...</div>
        </div>
        
        <div class="test-section">
            <h3>ğŸ“ Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„ ØªØ³Øª</h3>
            <ol>
                <li>Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ø³Ø±ÙˆØ± Ø¨Ú©â€ŒØ§Ù†Ø¯ Ø±ÙˆÛŒ <code>http://localhost:8001</code> Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ Ø§Ø³Øª</li>
                <li>Ø¯Ø± Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†ØŒ ÛŒÚ© Ø³Ø§ÛŒØª Ø¨Ø§ Ø¯Ø§Ù…Ù†Ù‡ <code>testsite.com</code> Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯</li>
                <li>ÙˆÛŒØ¬Øª Ú†Øª Ø¨Ø§Øª Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù¾Ø§ÛŒÛŒÙ† Ø³Ù…Øª Ø±Ø§Ø³Øª ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯</li>
                <li>ÛŒÚ© Ø³ÙˆØ§Ù„ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ø³Ø§ÛŒØª Ø¨Ù¾Ø±Ø³ÛŒØ¯ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ú©Ù‡ ÙÙ‚Ø· Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³/Ø³Ø§ÛŒØª Ø¬ÙˆØ§Ø¨ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯</li>
                <li>ÛŒÚ© Ø³ÙˆØ§Ù„ Ù†Ø§Ù…Ø±Ø¨ÙˆØ· Ø¨Ù¾Ø±Ø³ÛŒØ¯ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ù¾ÛŒØ§Ù… fallback Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h3>ğŸ” ØªØ³Øª API Ù…Ø³ØªÙ‚ÛŒÙ…</h3>
            <p>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² curl ÛŒØ§ Postman Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ù…Ø³ØªÙ‚ÛŒÙ… API Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:</p>
            <pre style="background: #f4f4f4; padding: 15px; border-radius: 5px; overflow-x: auto;"><code>curl -X POST http://localhost:8001/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "channel": "website-widget",
    "user_id": "test-user",
    "message": "ÛŒÚ© Ø³ÙˆØ§Ù„ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ù‡Ù…ÛŒÙ† Ø³Ø§ÛŒØª ØªØ³Øª",
    "site_host": "testsite.com"
  }'</code></pre>
        </div>
    </div>
    
    <!-- Zimmer Chatbot Widget Snippet -->
    <div id="zimmer-chatbot-root"></div>
    <script>
        (function () {
            // Get current host
            const currentHost = window.location.host;
            const apiBaseUrl = window.location.origin; // Adjust if your API is on different port
            
            // Display info
            document.getElementById('currentHost').textContent = currentHost;
            document.getElementById('apiBaseUrl').textContent = apiBaseUrl;
            document.getElementById('siteHost').textContent = currentHost;
            
            // Configure widget
            window.ZIMMER_CHATBOT_CONFIG = {
                apiBaseUrl: apiBaseUrl,
                siteId: currentHost
            };
            
            // Load widget script
            var script = document.createElement("script");
            script.src = apiBaseUrl + "/static/chatbot-widget.js";
            script.async = true;
            script.onload = function() {
                document.getElementById('widgetStatus').className = 'status success';
                document.getElementById('widgetStatus').textContent = 'âœ“ ÙˆÛŒØ¬Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯';
            };
            script.onerror = function() {
                document.getElementById('widgetStatus').className = 'status error';
                document.getElementById('widgetStatus').textContent = 'âœ— Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆÛŒØ¬Øª. Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ø³Ø±ÙˆØ± Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ Ø§Ø³Øª.';
            };
            document.head.appendChild(script);
        })();
    </script>
</body>
</html>


